<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>53.0</apiVersion>
    <assignments>
        <name>assAccountSubList</name>
        <label>assAccountSubList</label>
        <locationX>1084</locationX>
        <locationY>3563</locationY>
        <assignmentItems>
            <assignToReference>lstAccountSubsidiary</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>loopIntegrationAccountSubsidiary</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loopIntegrationAccountSubsidiary</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Account_Subsidiary</name>
        <label>Assign Account Subsidiary</label>
        <locationX>325</locationX>
        <locationY>539</locationY>
        <assignmentItems>
            <assignToReference>$Record.Account_Subsidiary__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CreateAccountSubsidiary</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Agodi_Update_In_Progress</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_FullLegalName</name>
        <label>Assign FullLegalName</label>
        <locationX>622</locationX>
        <locationY>1055</locationY>
        <assignmentItems>
            <assignToReference>$Record.FullLegalName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Name</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>What_was_created</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Validation_Check_Fields</name>
        <label>Assign Validation Check Fields</label>
        <locationX>1128</locationX>
        <locationY>2723</locationY>
        <assignmentItems>
            <assignToReference>$Record.Validate_Area__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateArea</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Billing_Address__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateBillingAddress</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Shipping_Address__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateShippingAddress</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Emails_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateEmailsRequired</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_NetSuiteId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateNetsuiteId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Account_Subsidiary_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateAccountSubsidiaryRequired</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Vat_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateVatStatus</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Shipping_Rule__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateShippingRule</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Student_Numbers__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateStudentNumbers</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Communication_Language__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateCommunicationLanguage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Customer_Category__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateCustomerCategory</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Customer_Discount_Group__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateCustomerDiscountGroup</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Phone__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidatePhone</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Courier_Info__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateCourierInfo</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Block_Reason_Deactivated__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateBlockReasonDeactivated</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_VAT_Max_Chars__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateVATMaxChars</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Website__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateWebsite</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_VAT_Number_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateVATNumberRequired</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Invoicing_Frequency__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateInvoicingFrequency</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.VendorToggle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>VendorToggleFormula</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Validate_Account_Name_Soft__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateAccountNameSoft</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.ValidateFirstNameLastName__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>F_ValidateFirstNameLastName</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Was_Assignments_Visted</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assIntegrationFactorySend</name>
        <label>assIntegrationFactorySend</label>
        <locationX>1084</locationX>
        <locationY>3455</locationY>
        <assignmentItems>
            <assignToReference>loopIntegrationAccountSubsidiary.IntegrationFactorySend__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>assAccountSubList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Shipping_Indication_Rule</name>
        <label>Set Shipping Indication Rule</label>
        <locationX>996</locationX>
        <locationY>2531</locationY>
        <assignmentItems>
            <assignToReference>$Record.ShippingCostMethod__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ShippingIndicationRule</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Validation_Check_Fields</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Segments</name>
        <label>Update Segments</label>
        <locationX>1370</locationX>
        <locationY>1463</locationY>
        <assignmentItems>
            <assignToReference>$Record.isHigherEducation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Check_Higher</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.isPrimaryEducation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Check_Primary</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.isSecondaryEducation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Check_Secondary</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.isVocationalEducation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Check_Vocational</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.UpperPrimaryEducation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Check_UpperPrimary</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.LowerPrimaryEducation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Check_LowerPrimary</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.LowerSecondaryEducation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Check_LowerSecondary</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_if_Shipping_Address_Set_or_Changed</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Agodi_Update_In_Progress</name>
        <label>Agodi Update In Progress</label>
        <locationX>457</locationX>
        <locationY>731</locationY>
        <defaultConnector>
            <targetReference>IsNewRecord</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.AgodiUpdateInProgress__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Shipping_Address_Set_or_Changed</name>
        <label>Check if Shipping Address Set or Changed</label>
        <locationX>1128</locationX>
        <locationY>2423</locationY>
        <defaultConnector>
            <targetReference>Assign_Validation_Check_Fields</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Address</name>
            <conditionLogic>(1 OR 2) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Shipping_Indication_Rule</targetReference>
            </connector>
            <label>Yes Address</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_1_of_Is_Liber</name>
        <label>Is Liber</label>
        <locationX>886</locationX>
        <locationY>1355</locationY>
        <defaultConnector>
            <targetReference>Is_Account_UDB</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OperatingCompany__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liber</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Default_Preferred_Courier_B2C</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>decIntegrateAccountSub</name>
        <label>decIntegrateAccountSub</label>
        <locationX>1128</locationX>
        <locationY>3131</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>ValidateIntegrations</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ValidateIntegrationerrors__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getAccountSubsidiary</targetReference>
            </connector>
            <label>ValidateIntegrations</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_the_address_need_to_be_created_or_updated</name>
        <label>Does the address need to be created or updated</label>
        <locationX>314</locationX>
        <locationY>1655</locationY>
        <defaultConnector>
            <targetReference>Is_Account_UDB</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Created</name>
            <conditionLogic>(1 OR 2) AND 3 AND 4 AND 5</conditionLogic>
            <conditions>
                <leftValueReference>$Record.BillingAddress__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingAddress__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingStreetName__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingStreetName__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ValidateAddress</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>true</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Vendor_Address_Handler</targetReference>
            </connector>
            <label>Created</label>
        </rules>
        <rules>
            <name>Updated</name>
            <conditionLogic>(1 OR 2 OR 3 OR 4 OR 5 OR 6) AND 7</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ShippingStreetName__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingStreetName__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingHouseNumber__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingHouseNumber__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingHouseNumberAddition__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingHouseNumberAddition__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Label.ValidateAddress</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>true</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>VendorAddressHandler</targetReference>
            </connector>
            <label>Updated</label>
        </rules>
    </decisions>
    <decisions>
        <name>FullLegalName_Check</name>
        <label>FullLegalName Check</label>
        <locationX>754</locationX>
        <locationY>947</locationY>
        <defaultConnector>
            <targetReference>What_was_created</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Filled</defaultConnectorLabel>
        <rules>
            <name>NotFilled</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FullLegalName_is_Empty</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_FullLegalName</targetReference>
            </connector>
            <label>Not Filled</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Account_UDB</name>
        <label>Is Account UDB</label>
        <locationX>754</locationX>
        <locationY>2039</locationY>
        <defaultConnector>
            <targetReference>Check_if_Shipping_Address_Set_or_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_External_UDB</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ExternalDatabase__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>UDB</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Contact</targetReference>
            </connector>
            <label>Yes External UDB</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Classification_field_updated</name>
        <label>Is Classification field updated?</label>
        <locationX>1502</locationX>
        <locationY>1355</locationY>
        <defaultConnector>
            <targetReference>Check_if_Shipping_Address_Set_or_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Updated</defaultConnectorLabel>
        <rules>
            <name>Updated_classification</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Classification__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.Classification__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Segments</targetReference>
            </connector>
            <label>Updated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Liber</name>
        <label>Is Liber</label>
        <locationX>314</locationX>
        <locationY>1355</locationY>
        <defaultConnector>
            <targetReference>Does_the_address_need_to_be_created_or_updated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OperatingCompany__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Liber</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Default_Preferred_Courier</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Netsuite_Customer_Id_Populated</name>
        <label>Is Netsuite Customer Id Populated</label>
        <locationX>1502</locationX>
        <locationY>947</locationY>
        <defaultConnector>
            <targetReference>Is_Classification_field_updated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NetsuiteId_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.NetsuiteInternalId__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.NetsuiteInternalId__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>B2C_Private_Individuals</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Waiting_Individual_Import_Order</targetReference>
            </connector>
            <label>NetsuiteId Populated</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsNewRecord</name>
        <label>Is New?</label>
        <locationX>1128</locationX>
        <locationY>839</locationY>
        <defaultConnector>
            <targetReference>Is_Netsuite_Customer_Id_Populated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Updated Record</defaultConnectorLabel>
        <rules>
            <name>NewRecord</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IsNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>FullLegalName_Check</targetReference>
            </connector>
            <label>New Record</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsOperatingCompanyPopulated</name>
        <label>0 Acc Subs &amp; OpCo populated?</label>
        <locationX>457</locationX>
        <locationY>323</locationY>
        <defaultConnector>
            <targetReference>Agodi_Update_In_Progress</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>OperatingCompanyIsPopulated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OperatingCompany__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AccountSubsidiaryCount__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateAccountSubsidiary</targetReference>
            </connector>
            <label>0 Acc Subs &amp; OpCo populated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Was_Assignments_Visted</name>
        <label>Was Assignments Visted</label>
        <locationX>1128</locationX>
        <locationY>2831</locationY>
        <defaultConnector>
            <targetReference>decIntegrateAccountSub</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Record_Value_Assigned</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Assign_Account_Subsidiary</leftValueReference>
                <operator>WasVisited</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Set_Shipping_Indication_Rule</leftValueReference>
                <operator>WasVisited</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Assign_Validation_Check_Fields</leftValueReference>
                <operator>WasVisited</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Assign_FullLegalName</leftValueReference>
                <operator>WasVisited</operator>
                <rightValue>
                    <elementReference>True</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Update_Segments</leftValueReference>
                <operator>WasVisited</operator>
                <rightValue>
                    <elementReference>True</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Account</targetReference>
            </connector>
            <label>Record Value(s) Assigned</label>
        </rules>
    </decisions>
    <decisions>
        <name>What_was_created</name>
        <label>What was created</label>
        <locationX>754</locationX>
        <locationY>1247</locationY>
        <defaultConnector>
            <targetReference>Is_Account_UDB</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Vendor_created</name>
            <conditionLogic>(1 OR 2) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.NetSuiteVendorId__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.VendorNetsuiteInternalId__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>B2bB2cAuthors</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_Liber</targetReference>
            </connector>
            <label>Vendor created</label>
        </rules>
        <rules>
            <name>B2C_Private_Individuals</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>B2C_Private_Individuals</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CountPreferredCouriers__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Is_Liber</targetReference>
            </connector>
            <label>B2C_Private_Individuals</label>
        </rules>
    </decisions>
    <description>CH 02/10/2023: added address functionality for vendors
DB 18/01/2024: create Contact if Account External Database equals UDB
HdG 07/03/2024: add additional fields to UDB create contact
HdG 07/03/2024: add assignment for communication language to UDB create contact</description>
    <environments>Default</environments>
    <formulas>
        <name>Check_Higher</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!$Record.Classification__c},&quot;Higher&quot;)</expression>
    </formulas>
    <formulas>
        <name>Check_LowerPrimary</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!$Record.Classification__c},&quot;Lower Primary&quot;)</expression>
    </formulas>
    <formulas>
        <name>Check_LowerSecondary</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!$Record.Classification__c},&quot;Lower Secondary&quot;)</expression>
    </formulas>
    <formulas>
        <name>Check_PreSchool</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!$Record.Classification__c},&quot;Pre-school&quot;)</expression>
    </formulas>
    <formulas>
        <name>Check_Primary</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!$Record.Classification__c},&quot;Primary&quot;)</expression>
    </formulas>
    <formulas>
        <name>Check_Secondary</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!$Record.Classification__c},&quot;Secondary&quot;)</expression>
    </formulas>
    <formulas>
        <name>Check_UpperPrimary</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!$Record.Classification__c},&quot;Upper Primary&quot;)</expression>
    </formulas>
    <formulas>
        <name>Check_Vocational</name>
        <dataType>Boolean</dataType>
        <expression>INCLUDES({!$Record.Classification__c},&quot;Vocational&quot;)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateAccountNameSoft</name>
        <dataType>Boolean</dataType>
        <expression>IF(
LEN({!$Record.Name}) &gt; 83, true, false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateAccountSubsidiaryRequired</name>
        <dataType>Boolean</dataType>
        <expression>ISBLANK({!$Record.Account_Subsidiary__c})</expression>
    </formulas>
    <formulas>
        <name>F_ValidateArea</name>
        <dataType>Boolean</dataType>
        <expression>IF( OR({!$Record.RecordType.DeveloperName} = &apos;B2BEducational&apos;, 
{!$Record.RecordType.DeveloperName}= &apos;B2B_Educational_Location&apos;, 
{!$Record.RecordType.DeveloperName} = &apos;B2BNonEducational&apos;,
{!$Record.RecordType.DeveloperName} = &apos;B2BPurchasingGroups&apos;) &amp;&amp; 
TEXT({!$Record.OperatingCompany__c}) = &apos;Plantyn&apos; &amp;&amp; OR(ISBLANK(TEXT({!$Record.Area__c})), ISNULL(TEXT({!$Record.Area__c}))),true,false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateBillingAddress</name>
        <dataType>Boolean</dataType>
        <expression>IF(AND(OR({!$Record.BillingCountry} =&apos;Sweden&apos;, 
{!$Record.BillingCountry} =&apos;Netherlands&apos;, 
{!$Record.BillingCountry} =&apos;Belgium&apos;, 
{!$Record.BillingCountry} =&apos;Luxembourg&apos;),
OR({!$Record.BillingStreet} = null, 
{!$Record.BillingCity} = null, 
{!$Record.BillingCountry} = null, 
{!$Record.BillingPostalCode} = null)),
true, false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateBlockReasonDeactivated</name>
        <dataType>Boolean</dataType>
        <expression>AND(OR(ISPICKVAL( {!$Record.BlockReason__c}, &apos;Deactivated&apos;), ISPICKVAL( {!$Record.BlockReason__c}, &apos;Proforma&apos;)), ISBLANK( {!$Record.NetsuiteCustomerNumber__c}))</expression>
    </formulas>
    <formulas>
        <name>F_ValidateCommunicationLanguage</name>
        <dataType>Boolean</dataType>
        <expression>IF(ISBLANK(TEXT({!$Record.CommunicationLanguage__c})),true,false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateCourierInfo</name>
        <dataType>Boolean</dataType>
        <expression>IF(((ISBLANK(TEXT({!$Record.Courier__c})) || ISBLANK(TEXT({!$Record.DeliveryRouting__c})))) &amp;&amp; 
TEXT({!$Record.OperatingCompany__c}) = &apos;Liber&apos;, true, false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateCustomerCategory</name>
        <dataType>Boolean</dataType>
        <expression>IF(ISBLANK(TEXT({!$Record.CustomerCategory__c})),true, false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateCustomerDiscountGroup</name>
        <dataType>Boolean</dataType>
        <expression>IF(ISBLANK(TEXT({!$Record.CustomerDiscountGroup__c})), true, false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateEmailsRequired</name>
        <dataType>Boolean</dataType>
        <expression>OR(
    ISBLANK({!$Record.InvoicingEmail__c}),
    ISBLANK({!$Record.BillingReminderEmail__c}),
    IF(
        OR(
            AND(
                ISPICKVAL({!$Record.OperatingCompany__c}, &apos;Noordhoff&apos;),
                {!$Record.isProfessional__c }= true
            ),
            ISPICKVAL({!$Record.OperatingCompany__c}, &apos;Noordhoff Professional&apos;)
        ),
        false,
        OR(
            ISBLANK({!$Record.OrderNotificationEmail__c}),
            ISBLANK({!$Record.DigitalActivationEmail__c})
        )
    )
)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateFirstNameLastName</name>
        <dataType>Boolean</dataType>
        <expression>IF(AND(
NOT(ISPICKVAL({!$Record.AuthorType__c}, &apos;Company&apos;)),
OR(ISPICKVAL({!$Record.CustomerCategory__c}, &apos;Author&apos;), ISPICKVAL({!$Record.CustomerCategory__c}, &apos;Private Individual&apos;)), OR(ISBLANK({!$Record.authorFirstName__c}), ISBLANK({!$Record.authorLastName__c}))), true, false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateInvoicingFrequency</name>
        <dataType>Boolean</dataType>
        <expression>ISBLANK(TEXT({!$Record.InvoicingFrequency__c}))</expression>
    </formulas>
    <formulas>
        <name>F_ValidateNetsuiteId</name>
        <dataType>Boolean</dataType>
        <expression>{!$Record.NetsuiteInternalId__c} = null</expression>
    </formulas>
    <formulas>
        <name>F_ValidatePhone</name>
        <dataType>Boolean</dataType>
        <expression>AND({!$Record.Phone} != null,
OR(
NOT({!$User.ValidationRulesDoNotApply__c}),
NOT(REGEX({!$Record.Phone}, &quot;^\\+[1-9]\\d{1,14}$&quot;))
)
)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateShippingAddress</name>
        <dataType>Boolean</dataType>
        <expression>IF(AND(OR({!$Record.ShippingCountry} =&apos;Sweden&apos;, 
{!$Record.ShippingCountry} =&apos;Netherlands&apos;, 
{!$Record.ShippingCountry} =&apos;Belgium&apos;, 
{!$Record.ShippingCountry} =&apos;Luxembourg&apos;),
OR({!$Record.ShippingStreet}= null, 
{!$Record.ShippingCity}= null, 
{!$Record.ShippingCountry} = null, 
{!$Record.ShippingPostalCode}= null)),
true,false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateShippingRule</name>
        <dataType>Boolean</dataType>
        <expression>ISBLANK(TEXT({!$Record.ShippingCostMethod__c}))</expression>
    </formulas>
    <formulas>
        <name>F_ValidateStudentNumbers</name>
        <dataType>Boolean</dataType>
        <expression>IF( OR({!$Record.RecordType.DeveloperName} = &apos;B2BEducational&apos;, 
{!$Record.RecordType.DeveloperName} = &apos;B2B_Educational_Location&apos;,
{!$Record.RecordType.DeveloperName} = &apos;B2BPurchasingGroups&apos;) &amp;&amp; 
OR(ISBLANK({!$Record.NumberofStudents__c}), ISNULL({!$Record.NumberofStudents__c})), 
true, false)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateVATMaxChars</name>
        <dataType>Boolean</dataType>
        <expression>LEN({!$Record.VATNumber__c}) &gt; 20</expression>
    </formulas>
    <formulas>
        <name>F_ValidateVATNumberRequired</name>
        <dataType>Boolean</dataType>
        <expression>AND(ISPICKVAL({!$Record.OperatingCompany__c}, &apos;Plantyn&apos;),
OR(ISPICKVAL({!$Record.CustomerCategory__c}, &apos;Company&apos;), 
ISPICKVAL({!$Record.CustomerCategory__c}, &apos;Reseller&apos;), 
ISPICKVAL({!$Record.CustomerCategory__c}, &apos;Trade Bookstore&apos;), 
ISPICKVAL({!$Record.CustomerCategory__c}, &apos;Trade Regular&apos;), 
ISPICKVAL({!$Record.CustomerCategory__c}, &apos;Trade Specialist&apos;)),
ISBLANK({!$Record.VATNumber__c}))</expression>
    </formulas>
    <formulas>
        <name>F_ValidateVatStatus</name>
        <dataType>Boolean</dataType>
        <expression>OR(
AND(ISPICKVAL({!$Record.VatNumberRequired__c},&apos;Yes&apos;), 
NOT(ISPICKVAL({!$Record.VATStatus__c}, &apos;Correct&apos;)), 
NOT(ISPICKVAL({!$Record.VATStatus__c}, &apos;Manual verification required&apos;))),
AND(ISPICKVAL({!$Record.VatNumberRequired__c},&apos;No&apos;), 
NOT(ISBLANK({!$Record.VATNumber__c})), 
NOT(ISPICKVAL({!$Record.VATStatus__c}, &apos;Correct&apos;)), 
NOT(ISPICKVAL({!$Record.VATStatus__c}, &apos;Manual verification required&apos;)))
)</expression>
    </formulas>
    <formulas>
        <name>F_ValidateWebsite</name>
        <dataType>Boolean</dataType>
        <expression>AND(NOT(BEGINS( {!$Record.Website}, &apos;https://&apos;)),
NOT(BEGINS( {!$Record.Website}, &apos;http://&apos;))) || CONTAINS({!$Record.Website}, &apos; &apos;)</expression>
    </formulas>
    <formulas>
        <name>FullLegalName_is_Empty</name>
        <dataType>Boolean</dataType>
        <expression>ISBLANK({!$Record.FullLegalName__c})</expression>
    </formulas>
    <formulas>
        <name>IsNew</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <formulas>
        <name>ShippingIndicationRule</name>
        <dataType>String</dataType>
        <expression>IF( 
    TEXT({!$Record.OperatingCompany__c}) = &apos;Plantyn&apos;,
        IF({!$Record.ShippingCountry} = &apos;Belgium&apos;,
        &apos;Based on weight Domestic&apos;,
        &apos;Based on weight non Domestic&apos;), 
    IF(TEXT({!$Record.OperatingCompany__c}) = &apos;Noordhoff&apos;,
        IF({!$Record.ShippingCountry} = &apos;Netherlands&apos;,
            &apos;Based on weight Domestic&apos;,
            &apos;Based on weight non Domestic&apos;),
        IF(TEXT({!$Record.OperatingCompany__c}) = &apos;Liber&apos;,
            IF({!$Record.ShippingCountry} = &apos;Sweden&apos;,
                &apos;Based on weight Domestic&apos;,
                &apos;Based on weight non Domestic&apos;),
            &apos;&apos;
        )
    )
)</expression>
    </formulas>
    <formulas>
        <name>VendorToggleFormula</name>
        <dataType>Boolean</dataType>
        <expression>IF(NOT(ISBLANK({!$Record.NetSuiteVendorId__c})), 
                           IF({!$Record.VendorToggle__c} = TRUE, FALSE, TRUE), 
                           {!$Record.VendorToggle__c}
)</expression>
    </formulas>
    <interviewLabel>After Save Updates Account {!$Flow.CurrentDateTime}</interviewLabel>
    <label>After Save Updates Account</label>
    <loops>
        <name>loopIntegrationAccountSubsidiary</name>
        <label>loopIntegrationAccountSubsidiary</label>
        <locationX>996</locationX>
        <locationY>3347</locationY>
        <collectionReference>getAccountSubsidiary</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>assIntegrationFactorySend</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>UpdateAccountSubsidiary</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_Contact</name>
        <label>Create Contact</label>
        <locationX>622</locationX>
        <locationY>2147</locationY>
        <connector>
            <targetReference>Check_if_Shipping_Address_Set_or_Changed</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CommunicationLanguage__c</field>
            <value>
                <stringValue>Dutch</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>$Record.Email__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ExternalContactId__c</field>
            <value>
                <elementReference>$Record.ExternalCustomerId__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>External_Database__c</field>
            <value>
                <elementReference>$Record.ExternalDatabase__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>$Record.authorFirstName__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>$Record.authorLastName__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MailingCity</field>
            <value>
                <elementReference>$Record.BillingCity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MailingCountry</field>
            <value>
                <elementReference>$Record.BillingCountry</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MailingCountryCode</field>
            <value>
                <elementReference>$Record.BillingCountryCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MailingPostalCode</field>
            <value>
                <elementReference>$Record.BillingPostalCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MailingState</field>
            <value>
                <elementReference>$Record.BillingState</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MailingStateCode</field>
            <value>
                <elementReference>$Record.BillingStateCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MailingStreet</field>
            <value>
                <elementReference>$Record.BillingStreet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MiddleName</field>
            <value>
                <elementReference>$Record.authorMiddleName__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OperatingCompany__c</field>
            <value>
                <elementReference>$Record.OperatingCompany__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherCity</field>
            <value>
                <elementReference>$Record.ShippingCity</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherCountry</field>
            <value>
                <elementReference>$Record.ShippingCountry</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherCountryCode</field>
            <value>
                <elementReference>$Record.ShippingCountryCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherPostalCode</field>
            <value>
                <elementReference>$Record.ShippingPostalCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherState</field>
            <value>
                <elementReference>$Record.ShippingState</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherStateCode</field>
            <value>
                <elementReference>$Record.ShippingStateCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OtherStreet</field>
            <value>
                <elementReference>$Record.ShippingStreet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>$Record.Phone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PreferredEmail__c</field>
            <value>
                <stringValue>Email</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UniqueExternalDatabaseNumber__c</field>
            <value>
                <elementReference>$Record.UniqueExternalDatabaseNumber__c</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_Default_Preferred_Courier</name>
        <label>Create Default Preferred Courier</label>
        <locationX>182</locationX>
        <locationY>1463</locationY>
        <connector>
            <targetReference>Does_the_address_need_to_be_created_or_updated</targetReference>
        </connector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Courier__c</field>
            <value>
                <stringValue>SCH | Schenker regelverk</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Default__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>DeliveryRouting__c</field>
            <value>
                <stringValue>LIBSCH</stringValue>
            </value>
        </inputAssignments>
        <object>PreferredCourier__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_Default_Preferred_Courier_B2C</name>
        <label>Create Default Preferred Courier B2C</label>
        <locationX>754</locationX>
        <locationY>1463</locationY>
        <connector>
            <targetReference>Is_Account_UDB</targetReference>
        </connector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Courier__c</field>
            <value>
                <stringValue>21 | 1:A-Klassbrev</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Default__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>DeliveryRouting__c</field>
            <value>
                <stringValue>LIBPOS</stringValue>
            </value>
        </inputAssignments>
        <object>PreferredCourier__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>CreateAccountSubsidiary</name>
        <label>Create Account Subsidiary</label>
        <locationX>325</locationX>
        <locationY>431</locationY>
        <connector>
            <targetReference>Assign_Account_Subsidiary</targetReference>
        </connector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <elementReference>$Record.CurrencyIsoCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LegalName__c</field>
            <value>
                <elementReference>$Record.OperatingCompany__c</elementReference>
            </value>
        </inputAssignments>
        <object>AccountSubsidiary__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Get_Waiting_Individual_Import_Order</name>
        <label>Get Waiting Individual Import Order</label>
        <locationX>1370</locationX>
        <locationY>1055</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_Import_Order_Status_Pending</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND 3 AND (4 OR 5)</filterLogic>
        <filters>
            <field>customerOrderType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>private</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Waiting Account NetsuiteId</stringValue>
            </value>
        </filters>
        <filters>
            <field>UserEmail__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Email__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Source__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>eCommerce B2C</stringValue>
            </value>
        </filters>
        <filters>
            <field>Source__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Studiemeister</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ImportOrder__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getAccountSubsidiary</name>
        <label>getAccountSubsidiary</label>
        <locationX>996</locationX>
        <locationY>3239</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>loopIntegrationAccountSubsidiary</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>NetsuiteCustomerNumber__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Deleted__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>IsInactive__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>LastUpdateToAWS__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>IntegrationFactorySend__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>AccountSubsidiary__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Set_Import_Order_Status_Pending</name>
        <label>Set Import Order Status Pending</label>
        <locationX>1370</locationX>
        <locationY>1163</locationY>
        <connector>
            <targetReference>Is_Classification_field_updated</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Waiting_Individual_Import_Order.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </inputAssignments>
        <object>ImportOrder__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Account</name>
        <label>Update Account</label>
        <locationX>996</locationX>
        <locationY>2939</locationY>
        <connector>
            <targetReference>decIntegrateAccountSub</targetReference>
        </connector>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateAccountSubsidiary</name>
        <label>UpdateAccountSubsidiary</label>
        <locationX>996</locationX>
        <locationY>3755</locationY>
        <inputReference>lstAccountSubsidiary</inputReference>
    </recordUpdates>
    <start>
        <locationX>331</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>IsOperatingCompanyPopulated</targetReference>
        </connector>
        <object>Account</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>Vendor_Address_Handler</name>
        <label>Vendor Address Handler</label>
        <locationX>50</locationX>
        <locationY>1763</locationY>
        <connector>
            <targetReference>Is_Account_UDB</targetReference>
        </connector>
        <flowName>Vendor_Address_Handler</flowName>
        <inputAssignments>
            <name>accountRecord</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>VendorAddressHandler</name>
        <label>Vendor Address Handler</label>
        <locationX>314</locationX>
        <locationY>1763</locationY>
        <connector>
            <targetReference>Is_Account_UDB</targetReference>
        </connector>
        <flowName>Vendor_Address_Handler</flowName>
        <inputAssignments>
            <name>accountRecord</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>lstAccountSubsidiary</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AccountSubsidiary__c</objectType>
    </variables>
</Flow>
